<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sails.js API Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .pastel-block {
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .pastel-yellow { background-color: #fef9a7; }
    </style>
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">Sails.js API Documentation</h1>

    <p>Esta é a documentação dos endpoints da API Sails.js utilizada neste projeto.</p>

    <h2>Endpoints</h2>

    <!-- Rotas do Formulário HaveDog -->
    <div class="pastel-block pastel-yellow">
        <h5>Formulário HaveDog</h5>
        <h6>POST /haveDog</h6>
        <p>Este endpoint cria um novo registro de "HaveDog" com os dados fornecidos no corpo da requisição.</p>
        <div class="card mb-4 pastel-yellow">
            <div class="card-header bg-primary text-white">
                Criar Novo Registro "HaveDog"
            </div>
            <div class="card-body">
                <form id="HaveDogForm">
                    <!-- Campos do formulário -->
                    <div class="mb-3">
                        <label for="userId" class="form-label">ID do Usuário</label>
                        <input type="number" class="form-control" id="userId" name="user_id" required>
                    </div>
                    <div class="mb-3">
                        <label for="dogs_name" class="form-label">Nome do Cachorro</label>
                        <input type="text" class="form-control" id="dogs_name" name="dogs_name" required>
                    </div>
                    <div class="mb-3">
                        <label for="dogs_sex" class="form-label">Sexo do Cachorro</label>
                        <select class="form-select" id="dogs_sex" name="dogs_sex" required>
                            <option value="Macho">Macho</option>
                            <option value="Fêmea">Fêmea</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="tutor" class="form-label">Pertence a Quem</label>
                        <input type="text" class="form-control" id="tutor" name="tutor" required>
                    </div>
                    <div class="mb-3">
                        <label for="castrated" class="form-label">É Castrado</label>
                        <select class="form-select" id="castrated" name="castrated" required>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="castration_date" class="form-label">Data de Castração</label>
                        <input type="date" class="form-control" id="castration_date" name="castration_date">
                    </div>
                    <div class="mb-3">
                        <label for="time_w_dog" class="form-label">Tempo de Convívio com o Cachorro</label>
                        <input type="text" class="form-control" id="time_w_dog" name="time_w_dog" required>
                    </div>
                    <div class="mb-3">
                        <label for="first_dog" class="form-label">É o Primeiro Cachorro</label>
                        <select class="form-select" id="first_dog" name="first_dog" required>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="number_dogs" class="form-label">Quantidade de Cães na Casa</label>
                        <input type="number" class="form-control" id="number_dogs" name="number_dogs" required>
                    </div>
                    <div class="mb-3">
                        <label for="number_cats" class="form-label">Quantidade de Gatos na Casa</label>
                        <input type="number" class="form-control" id="number_cats" name="number_cats" required>
                    </div>
                    <div class="mb-3">
                        <label for="dogs_age" class="form-label">Idade do Cachorro</label>
                        <input type="text" class="form-control" id="dogs_age" name="dogs_age" required>
                    </div>
                    <div class="mb-3">
                        <label for="breed" class="form-label">Raça do Cachorro</label>
                        <input type="text" class="form-control" id="breed" name="breed" required>
                    </div>
                    <div class="mb-3">
                        <label for="dogs_breed_type" class="form-label">Tipo de Raça do Cachorro</label>
                        <input type="text" class="form-control" id="dogs_breed_type" name="dogs_breed_type">
                    </div>
                    <div class="mb-3">
                        <label for="dogs_origin" class="form-label">Origem do Cachorro</label>
                        <input type="text" class="form-control" id="dogs_origin" name="dogs_origin" required>
                    </div>
                    <div class="mb-3">
                        <label for="paid_to_acquire" class="form-label">Pagou para Adquirir</label>
                        <select class="form-select" id="paid_to_acquire" name="paid_to_acquire" required>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="age_dog_arrived" class="form-label">Idade do Cachorro Quando Chegou</label>
                        <input type="text" class="form-control" id="age_dog_arrived" name="age_dog_arrived" required>
                    </div>
                    <div class="mb-3">
                        <label for="dogs_personality" class="form-label">Personalidade do Cachorro</label>
                        <textarea class="form-control" id="dogs_personality" name="dogs_personality" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="characteristics" class="form-label">Características do Cachorro</label>
                        <textarea class="form-control" id="characteristics" name="characteristics" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="involved_in_decision" class="form-label">Pessoa Envolvida na Decisão</label>
                        <input type="text" class="form-control" id="involved_in_decision" name="involved_in_decision" required>
                    </div>
                    <div class="mb-3">
                        <label for="couldnt_keep_a_dog_before" class="form-label">Já Teve Dificuldade em Manter um Cachorro</label>
                        <select class="form-select" id="couldnt_keep_a_dog_before" name="couldnt_keep_a_dog_before" required>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                        <textarea class="form-control" id="couldnt_keep_a_dog_before_description" name="couldnt_keep_a_dog_before_description"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="vet_visits" class="form-label">Visitas ao Veterinário</label>
                        <select class="form-select" id="vet_visits" name="vet_visits" required>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                        <label for="number_of_vet_visits" class="form-label">Número de Visitas ao Veterinário</label>
                        <input type="number" class="form-control" id="number_of_vet_visits" name="number_of_vet_visits" min="0">
                    </div>
                    <div class="mb-3">
                        <label for="about_dog" class="form-label">Sobre o Cachorro</label>
                        <textarea class="form-control" id="about_dog" name="about_dog" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="contact_permission" class="form-label">Permissão de Contato</label>
                        <select class="form-select" id="contact_permission" name="contact_permission" required>
                            <option value="Sim">Sim</option>
                            <option value="Não">Não</option>
                        </select>
                    </div>
                    <div>
                        <button type="submit" class="btn btn-primary">Enviar Formulário</button>
                    </div>
                </form>
            </div>
        </div>
        <h6>GET /haveDog</h6>
        <p>Este endpoint retorna uma lista de todos os registros "HaveDog" cadastrados no sistema.</p>
        <div class="pastel-block pastel-green">
            <div class="card-header bg-secondary text-white">
                Lista de Registros "HaveDog"
            </div>
            <div class="card-body" id="haveDogsList">
                <!-- Lista de registros "HaveDog" será preenchida via JavaScript -->
            </div>
        </div>
        <h6>GET /haveDog/:id</h6>
        <p>Este endpoint retorna os detalhes de um registro "HaveDog" específico com o ID fornecido na URL.</p>
        <div class="pastel-block pastel-green">
            <div class="card-header bg-info text-white">
                Buscar Registro "HaveDog" por ID
            </div>
            <div class="card-body">
                <form id="getHaveDogByIdForm">
                    <div class="mb-3">
                        <label for="haveDogId" class="form-label">ID do Registro "HaveDog"</label>
                        <input type="number" class="form-control" id="haveDogId" name="have_dog_id" required>
                    </div>
                    <div>
                        <button type="submit" class="btn btn-info">Buscar Registro</button>
                    </div>
                </form>
                <div id="haveDogDetails" class="mt-4"></div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    // Função para carregar a lista de registros "HaveDog"
    function carregarListaHaveDogs() {
        axios.get('/haveDog')
            .then(function (response) {
                const haveDogs = response.data;
                const listaHtml = haveDogs.map(function (haveDog) {
                    return `
                        <div class="mb-2">
                            <strong>ID:</strong> ${haveDog.id} - 
                            <strong>Nome do Cachorro:</strong> ${haveDog.dogs_name} - 
                            <strong>Sexo do Cachorro:</strong> ${haveDog.dogs_sex} - 
                            <strong>Pertence a Quem:</strong> ${haveDog.tutor} - 
                            <strong>É Castrado:</strong> ${haveDog.castrated} - 
                            <strong>Data de Castração:</strong> ${haveDog.castration_date} - 
                            <strong>Tempo de Convívio com o Cachorro:</strong> ${haveDog.time_w_dog} - 
                            <strong>É o Primeiro Cachorro:</strong> ${haveDog.first_dog} - 
                            <strong>Quantidade de Cães na Casa:</strong> ${haveDog.number_dogs} - 
                            <strong>Quantidade de Gatos na Casa:</strong> ${haveDog.number_cats} - 
                            <strong>Idade do Cachorro:</strong> ${haveDog.dogs_age} - 
                            <strong>Raça do Cachorro:</strong> ${haveDog.breed} - 
                            <strong>Tipo de Raça do Cachorro:</strong> ${haveDog.dogs_breed_type} - 
                            <strong>Origem do Cachorro:</strong> ${haveDog.dogs_origin} - 
                            <strong>Pagou para Adquirir o Cachorro:</strong> ${haveDog.paid_to_acquire} - 
                            <strong>Idade do Cachorro Quando Chegou:</strong> ${haveDog.age_dog_arrived} - 
                            <strong>Personalidade do Cachorro:</strong> ${haveDog.dogs_personality} - 
                            <strong>Características do Cachorro:</strong> ${haveDog.characteristics} - 
                            <strong>Pessoa Envolvida na Decisão de Adquirir o Cachorro:</strong> ${haveDog.involved_in_decision} - 
                            <strong>Já Teve Dificuldade em Manter um Cachorro:</strong> ${haveDog.couldnt_keep_a_dog_before} - 
                            <strong>Visitas ao Veterinário:</strong> ${haveDog.vet_visits} - 
                            <strong>Número de Visitas ao Veterinário:</strong> ${haveDog.number_of_vet_visits} - 
                            <strong>Sobre o Cachorro:</strong> ${haveDog.about_dog} - 
                            <strong>Permissão de Contato:</strong> ${haveDog.contact_permission}
                        </div>
                    `;
                }).join('');
                document.getElementById('haveDogsList').innerHTML = listaHtml;
            })
            .catch(function (error) {
                console.error('Erro ao carregar lista de registros "HaveDog":', error);
            });
    }

    // Enviar dados para criar um novo registro "HaveDog"
    document.getElementById('HaveDogForm').addEventListener('submit', function (event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        const formJSON = Object.fromEntries(formData.entries());

        axios.post('/haveDog', formJSON)
            .then(function () {
                // Atualizar a lista de registros "HaveDog" após a criação
                carregarListaHaveDogs();
                // Limpar os campos do formulário
                document.getElementById('HaveDogForm').reset();
            })
            .catch(function (error) {
                console.error('Erro ao criar registro "HaveDog":', error);
            });
    });

    // Função para buscar um registro "HaveDog" por ID
    document.getElementById('getHaveDogByIdForm').addEventListener('submit', function (event) {
        event.preventDefault();
        const haveDogId = document.getElementById('haveDogId').value;

        axios.get(`/haveDog/${haveDogId}`)
            .then(function (response) {
                const haveDog = response.data;
                const haveDogDetailsHtml = `
                    <div class="mb-2">
                        <strong>ID:</strong> ${haveDog.id} <br>
                        <strong>Nome do Cachorro:</strong> ${haveDog.dogs_name} <br>
                        <strong>Sexo do Cachorro:</strong> ${haveDog.dogs_sex} <br>
                        <strong>Pertence a Quem:</strong> ${haveDog.tutor} <br>
                        <strong>É Castrado:</strong> ${haveDog.castrated} <br>
                        <strong>Data de Castração:</strong> ${haveDog.castration_date} <br>
                        <strong>Tempo de Convívio com o Cachorro:</strong> ${haveDog.time_w_dog} <br>
                        <strong>É o Primeiro Cachorro:</strong> ${haveDog.first_dog} <br>
                        <strong>Quantidade de Cães na Casa:</strong> ${haveDog.number_dogs} <br>
                        <strong>Quantidade de Gatos na Casa:</strong> ${haveDog.number_cats} <br>
                        <strong>Idade do Cachorro:</strong> ${haveDog.dogs_age} <br>
                        <strong>Raça do Cachorro:</strong> ${haveDog.breed} <br>
                        <strong>Tipo de Raça do Cachorro:</strong> ${haveDog.dogs_breed_type} <br>
                        <strong>Origem do Cachorro:</strong> ${haveDog.dogs_origin} <br>
                        <strong>Pagou para Adquirir o Cachorro:</strong> ${haveDog.paid_to_acquire} <br>
                        <strong>Idade do Cachorro Quando Chegou:</strong> ${haveDog.age_dog_arrived} <br>
                        <strong>Personalidade do Cachorro:</strong> ${haveDog.dogs_personality} <br>
                        <strong>Características do Cachorro:</strong> ${haveDog.characteristics} <br>
                        <strong>Pessoa Envolvida na Decisão de Adquirir o Cachorro:</strong> ${haveDog.involved_in_decision} <br>
                        <strong>Já Teve Dificuldade em Manter um Cachorro:</strong> ${haveDog.couldnt_keep_a_dog_before} <br>
                        <strong>Visitas ao Veterinário:</strong> ${haveDog.vet_visits} <br>
                        <strong>Número de Visitas ao Veterinário:</strong> ${haveDog.number_of_vet_visits} <br>
                        <strong>Sobre o Cachorro:</strong> ${haveDog.about_dog} <br>
                        <strong>Permissão de Contato:</strong> ${haveDog.contact_permission}
                    </div>
                `;
                document.getElementById('haveDogDetails').innerHTML = haveDogDetailsHtml;
            })
            .catch(function (error) {
                console.error('Erro ao buscar registro "HaveDog":', error);
                document.getElementById('haveDogDetails').innerHTML = '<p class="text-danger">Registro não encontrado.</p>';
            });
    });

    // Carregar lista de registros "HaveDog" ao carregar a página
    document.addEventListener('DOMContentLoaded', function () {
        carregarListaHaveDogs();
    });
</script>
</body>
</html>
